let piecesJSONObject = '{"pieces":[[221,0,499,0,499,1,221,1,499,2,221,2,499,3,221,3,499,4,221,4,499,5,221,5,499,6,221,6,499,7,221,7,499,8,221,8,499,9,221,9,499,10,221,10,499,11,221,11,499,12,221,12,499,13,221,13,499,14,221,14,499,15,221,15,499,16,221,16,499,17,221,17,499,18,221,18,499,19,221,19,499,20,221,20,499,21,221,21,499,22,221,22,499,23,221,23,499,24,221,24,499,25,221,25,499,26,221,26,499,27,221,27,499,28,221,28,499,29,221,29,499,30,221,30,499,31,221,31,499,32,221,32,499,33,221,33,499,34,221,34,499,35,221,35,499,36,221,36,499,37,221,37,499,38,221,38,499,39,221,39,499,40,221,40,499,41,221,41,499,42,221,42,499,43,221,43,499,44,221,44,499,45,221,45,499,46,221,46,499,47,221,47,499,48,221,48,499,49,221,49,499,50,221,50,499,51,221,51,499,52,221,52,499,53,221,53,499,54,221,54,499,55,221,55,499,56,221,56,499,57,221,57,499,58,221,58,499,59,221,59,499,60,221,60,499,61,221,61,499,62,221,62,499,63,221,63,499,64,221,64,499,65,221,65,499,66,221,66,499,67,221,67,499,68,221,68,499,69,221,69,499,70,221,70,499,71,221,71,499,72,221,72,499,73,221,73,499,74,221,74,499,75,221,75,499,76,221,76,499,77,221,77,499,78,221,78,499,79,221,79,499,80,221,80,499,81,221,81,499,82,221,82,499,83,221,83,499,84,221,84,499,85,221,85,499,86,221,86,499,87,221,87,499,88,221,88,499,89,221,89,499,90,221,90,499,91,221,91,499,92,221,92,499,93,221,93,499,94,221,94,499,95,221,95,499,96,221,96,499,97,221,97,499,98,221,98,499,99,220,99,499,100,219,100,499,101,218,101,499,102,217,102,499,103,216,103,499,104,215,104,499,105,214,105,499,106,213,106,499,107,212,107,499,108,211,108,499,109,210,109,499,110,209,110,499,111,208,111,499,112,207,112,499,113,206,113,499,114,205,114,499,115,204,115,499,116,203,116,499,117,202,117,499,118,201,118,499,119,200,119,499,120,199,120,499,121,198,121,499,122,197,122,499,123,196,123,499,124,195,124,499,125,194,125,499,126,193,126,499,127,192,127,499,128,191,128,499,129,190,129,499,130,189,130,499,131,188,131,499,132,187,132,499,133,186,133,499,134,185,134,499,135,184,135,499,136,183,136,499,137,182,137,499,138,181,138,499,139,180,139,499,140,179,140,499,141,178,141,499,142,177,142,499,143,176,143,499,144,175,144,499,145,174,145,499,146,173,146,499,147,172,147,499,148,171,148,499,149,170,149,499,150,169,150,499,151,168,151,499,152,167,152,499,153,166,153,499,154,165,154,499,155,164,155,499,156,163,156,499,157,162,157,499,158,161,158,499,159,160,159,499,160,159,160,499,161,158,161,499,162,157,162,499,163,156,163,499,164,155,164,499,165,154,165,499,166,153,166,499,167,152,167,499,168,151,168,499,169,150,169,499,170,149,170,499,171,148,171,499,172,147,172,499,173,147,173,499,174,147,174,499,175,147,175,499,176,147,176,499,177,148,177,499,178,149,178,499,179,150,179,499,180,151,180,499,181,152,181,499,182,153,182,499,183,154,183,499,184,155,184,499,185,156,185,499,186,157,186,499,187,158,187,499,188,159,188,499,189,160,189,499,190,161,190,499,191,162,191,499,192,163,192,499,193,164,193,499,194,165,194,499,195,166,195,499,196,167,196,499,197,168,197,499,198,169,198,499,199,170,199,499,200,171,200,499,201,172,201,499,202,173,202,499,203,174,203,499,204,175,204,499,205,176,205,499,206,177,206,499,207,178,207,499,208,179,208,499,209,180,209,499,210,181,210,499,211,182,211,499,212,183,212,499,213,184,213,499,214,185,214,499,215,186,215,499,216,187,216,499,217,188,217,499,218,189,218,499,219,190,219,499,220,191,220,499,221,192,221,499,222,193,222,499,223,194,223,499,224,195,224,499,225,196,225,499,226,197,226,499,227,198,227,499,228,199,228,499,229,200,229,499,230,201,230,499,231,202,231,499,232,203,232,499,233,204,233,499,234,205,234,499,235,206,235,499,236,207,236,499,237,208,237,499,238,209,238,499,239,210,239,499,240,211,240,499,241,212,241,499,242,213,242,499,243,214,243,499,244,215,244,499,245,216,245,499,246,217,246,499,247,218,247,499,248,219,248,499,249,220,249,499,250,221,250,499,251,222,251,499,252,223,252,499,253,224,253,499,254,225,254,499,255,226,255,499,256,227,256,499,257,228,257,499,258,229,258,499,259,230,259,499,260,231,260,499,261,232,261,499,262,233,262,499,263,234,263,499,264,235,264,499,265,236,265,499,266,237,266,499,267,238,267,499,268,239,268,499,269,240,269,499,270,241,270,499,271,242,271,499,272,243,272,499,273,244,273,499,274,245,274,499,275,246,275,499,276,247,276,499,277,248,277,499,278,249,278,499,279,250,279,499,280,250,280,499,281,250,281,499,282,250,282,499,283,250,283,499,284,250,284,499,285,250,285,499,286,250,286,499,287,250,287,499,288,250,288,499,289,250,289,499,290,250,290,499,291,250,291,499,292,250,292,499,293,250,293,499,294,250,294,499,295,250,295,499,296,250,296,499,297,250,297,499,298,250,298,499,299,250,299,499,300,250,300,499,301,250,301,499,302,250,302,499,303,250,303,499,304,250,304,499,305,250,305,499,306,250,306,499,307,250,307,499,308,250,308,499,309,250,309,499,310,250,310,499,311,250,311,499,312,250,312,499,313,250,313,499,314,250,314,499,315,250,315,499,316,250,316,499,317,250,317,499,318,250,318,499,319,250,319,499,320,250,320,499,321,250,321,499,322,250,322,499,323,250,323,499,324,250,324,499,325,250,325,499,326,250,326,499,327,250,327,499,328,250,328,499,329,250,329,499,330,250,330,499,331,250,331,499,332,250,332,499,333,250,333,499,334,250,334,499,335,250,335,499,336,250,336,499,337,250,337,499,338,250,338,499,339,250,339,499,340,250,340,499,341,250,341,499,342,250,342,499,343,250,343,499,344,250,344,499,345,250,345,499,346,250,346,499,347,250,347,499,348,250,348,499,349,250,349,499,350,250,350,499,351,250,351,499,352,250,352,499,353,250,353,499,354,250,354,499,355,250,355,499,356,250,356,499,357,250,357,499,358,250,358,499,359,250,359,499,360,250,360,499,361,250,361,499,362,250,362,499,363,250,363,499,364,250,364,499,365,250,365,499,366,250,366,499,367,250,367,499,368,250,368,499,369,250,369,499,370,250,370,499,371,250,371,499,372,250,372,499,373,250,373,499,374,250,374,499,375,250,375,499,376,250,376,499,377,250,377,499,378,250,378,499,379,250,379,499,380,250,380,499,381,250,381,499,382,250,382,499,383,250,383,499,384,250,384,499,385,250,385,499,386,250,386,499,387,250,387,499,388,250,388,499,389,250,389,499,390,250,390,499,391,250,391,499,392,250,392,499,393,250,393,499,394,250,394,499,395,250,395,499,396,250,396,499,397,250,397,499,398,250,398,499,399,250,399,499,400,250,400,499,401,250,401,499,402,250,402,499,403,250,403,499,404,250,404,499,405,250,405,499,406,250,406,499,407,250,407,499,408,250,408,499,409,250,409,499,410,250,410,499,411,250,411,499,412,250,412,499,413,250,413,499,414,250,414,499,415,250,415,499,416,250,416,499,417,250,417,499,418,250,418,499,419,250,419,499,420,250,420,499,421,250,421,499,422,250,422,499,423,250,423,499,424,250,424,499,425,250,425,499,426,250,426,499,427,250,427,499,428,250,428,499,429,250,429,499,430,250,430,499,431,250,431,499,432,250,432,499,433,250,433,499,434,250,434,499,435,250,435,499,436,250,436,499,437,250,437,499,438,250,438,499,439,250,439,499,440,250,440,499,441,250,441,499,442,250,442,499,443,250,443,499,444,250,444,499,445,250,445,499,446,250,446,499,447,250,447,499,448,250,448,499,449,250,449,499,450,250,450,499,451,250,451,499,452,250,452,499,453,250,453,499,454,250,454,499,455,250,455,499,456,250,456,499,457,250,457,499,458,250,458,499,459,250,459,499,460,250,460,499,461,250,461,499,462,250,462,499,463,250,463,499,464,250,464,499,465,250,465,499,466,250,466,499,467,250,467,499,468,250,468,499,469,250,469,499,470,250,470,499,471,250,471,499,472,250,472,499,473,250,473,499,474,250,474,499,475,250,475,499,476,250,476,499,477,250,477,499,478,250,478,499,479,250,479,499,480,250,480,499,481,250,481,499,482,250,482,499,483,250,483,499,484,250,484,499,485,250,485,499,486,250,486,499,487,250,487,499,488,250,488,499,489,250,489,499,490,250,490,499,491,250,491,499,492,250,492,499,493,250,493,499,494,250,494,499,495,250,495,499,496,250,496,499,497,250,497,499,498,250,498],[115,177,147,177,148,178,114,178,149,179,113,179,150,180,112,180,151,181,111,181,152,182,110,182,153,183,109,183,154,184,108,184,155,185,107,185,156,186,106,186,157,187,105,187,158,188,104,188,159,189,103,189,160,190,102,190,161,191,101,191,162,192,100,192,163,193,99,193,164,194,98,194,165,195,97,195,166,196,96,196,167,197,95,197,168,198,94,198,169,199,93,199,170,200,92,200,171,201,0,201,172,202,0,202,173,203,0,203,174,204,0,204,175,205,0,205,176,206,0,206,177,207,0,207,178,208,0,208,179,209,0,209,180,210,0,210,181,211,0,211,182,212,0,212,183,213,0,213,184,214,0,214,185,215,0,215,186,216,0,216,187,217,0,217,188,218,0,218,189,219,0,219,190,220,0,220,191,221,0,221,192,222,0,222,193,223,0,223,194,224,0,224,195,225,0,225,196,226,0,226,197,227,0,227,198,228,0,228,199,229,0,229,200,230,0,230,201,231,0,231,202,232,0,232,203,233,0,233,204,234,0,234,205,235,0,235,206,236,0,236,207,237,0,237,208,238,0,238,209,239,0,239,210,240,0,240,211,241,0,241,212,242,0,242,213,243,0,243,214,244,0,244,215,245,0,245,216,246,0,246,217,247,0,247,218,248,0,248,219,249,0,249,220,250,0,250,221,251,0,251,222,252,0,252,223,253,0,253,224,254,0,254,225,255,0,255,226,256,0,256,227,257,0,257,228,258,0,258,229,259,0,259,230,260,0,260,231,261,0,261,232,262,0,262,233,263,0,263,234,264,0,264,235,265,0,265,236,266,0,266,237,267,0,267,238,268,0,268,239,269,0,269,240,270,0,270,241,271,0,271,242,272,0,272,243,273,0,273,244,274,0,274,245,275,0,275,246,276,0,276,247,277,0,277,248,278,0,278,249,279,0,279,249,280,0,280,249,281,0,281,249,282,0,282,249,283,0,283,249,284,0,284,249,285,0,285,249,286,0,286,249,287,0,287,249,288,0,288,249,289,0,289,249,290,0,290,249,291,0,291,249,292,0,292,249,293,0,293,249,294,0,294,249,295,0,295,249,296,0,296,249,297,0,297,249,298,0,298,249,299,0,299,249,300,0,300,249,301,0,301,249,302,0,302,249,303,0,303,249,304,0,304,249,305,0,305,249,306,0,306,249,307,0,307,249,308,0,308,249,309,0,309,249,310,0,310,249,311,0,311,249,312,0,312,249,313,0,313,249,314,0,314,249,315,0,315,249,316,0,316,249,317,0,317,249,318,0,318,249,319,0,319,249,320,0,320,249,321,0,321,249,322,0,322,249,323,0,323,249,324,0,324,249,325,0,325,249,326,0,326,249,327,0,327,249,328,0,328,249,329,0,329,249,330,0,330,249,331,0,331,249,332,0,332,249,333,0,333,249,334,0,334,249,335,0,335,249,336,0,336,249,337,0,337,249,338,0,338,249,339,0,339,249,340,0,340,249,341,0,341,249,342,0,342,249,343,0,343,249,344,0,344,249,345,0,345,249,346,0,346,249,347,0,347,249,348,0,348,249,349,0,349,249,350,0,350,249,351,0,351,249,352,0,352,249,353,0,353,249,354,0,354,249,355,0,355,249,356,0,356,249,357,0,357,249,358,0,358,249,359,0,359,249,360,0,360,249,361,0,361,249,362,0,362,249,363,0,363,249,364,0,364,249,365,0,365,249,366,0,366,249,367,0,367,249,368,0,368,249,369,0,369,249,370,0,370,249,371,0,371,249,372,0,372,249,373,0,373,249,374,0,374,249,375,0,375,249,376,0,376,249,377,0,377,249,378,0,378,249,379,0,379,249,380,0,380,249,381,0,381,249,382,0,382,249,383,0,383,249,384,0,384,249,385,0,385,249,386,0,386,249,387,0,387,249,388,0,388,249,389,0,389,249,390,0,390,249,391,0,391,249,392,0,392,249,393,0,393,249,394,0,394,249,395,0,395,249,396,0,396,249,397,0,397,249,398,0,398,249,399,0,399,249,400,0,400,249,401,0,401,249,402,0,402,249,403,0,403,249,404,0,404,249,405,0,405,249,406,0,406,249,407,0,407,249,408,0,408,249,409,0,409,249,410,0,410,249,411,0,411,249,412,0,412,249,413,0,413,249,414,0,414,249,415,0,415,249,416,0,416,249,417,0,417,249,418,0,418,249,419,0,419,249,420,0,420,249,421,0,421,249,422,0,422,249,423,0,423,249,424,0,424,249,425,0,425,249,426,0,426,249,427,0,427,249,428,0,428,249,429,0,429,249,430,0,430,249,431,0,431,249,432,0,432,249,433,0,433,249,434,0,434,249,435,0,435,249,436,0,436,249,437,0,437,249,438,0,438,249,439,0,439,249,440,0,440,249,441,0,441,249,442,0,442,249,443,0,443,249,444,0,444,249,445,0,445,249,446,0,446,249,447,0,447,249,448,0,448,249,449,0,449,249,450,0,450,249,451,0,451,249,452,0,452,249,453,0,453,249,454,0,454,249,455,0,455,249,456,0,456,249,457,0,457,249,458,0,458,249,459,0,459,249,460,0,460,249,461,0,461,249,462,0,462,249,463,0,463,249,464,0,464,249,465,0,465,249,466,0,466,249,467,0,467,249,468,0,468,249,469,0,469,249,470,0,470,249,471,0,471,249,472,0,472,249,473,0,473,249,474,0,474,249,475,0,475,249,476,0,476,249,477,0,477,249,478,0,478,249,479,0,479,249,480,0,480,249,481,0,481,249,482,0,482,249,483,0,483,249,484,0,484,249,485,0,485,249,486,0,486,249,487,0,487,249,488,0,488,249,489,0,489,249,490,0,490,249,491,0,491,249,492,0,492,249,493,0,493,249,494,0,494,249,495,0,495,249,496,0,496,249,497,0,497,249,498,0,498],[0,0,220,0,220,1,0,1,220,2,0,2,220,3,0,3,220,4,0,4,220,5,0,5,220,6,0,6,220,7,0,7,220,8,0,8,220,9,0,9,220,10,0,10,220,11,0,11,220,12,0,12,220,13,0,13,220,14,0,14,220,15,0,15,220,16,0,16,220,17,0,17,220,18,0,18,220,19,0,19,220,20,0,20,220,21,0,21,220,22,0,22,220,23,0,23,220,24,0,24,220,25,0,25,220,26,0,26,220,27,0,27,220,28,0,28,220,29,0,29,220,30,0,30,220,31,0,31,220,32,0,32,220,33,0,33,220,34,0,34,220,35,0,35,220,36,0,36,220,37,0,37,220,38,0,38,220,39,0,39,220,40,0,40,220,41,0,41,220,42,0,42,220,43,0,43,220,44,0,44,220,45,0,45,220,46,0,46,220,47,0,47,220,48,0,48,220,49,0,49,220,50,0,50,220,51,0,51,220,52,0,52,220,53,0,53,220,54,0,54,220,55,0,55,220,56,0,56,220,57,0,57,220,58,0,58,220,59,0,59,220,60,0,60,220,61,0,61,220,62,0,62,220,63,0,63,220,64,0,64,220,65,0,65,220,66,0,66,220,67,0,67,220,68,0,68,220,69,0,69,220,70,0,70,220,71,0,71,220,72,0,72,220,73,0,73,220,74,0,74,220,75,0,75,220,76,0,76,220,77,0,77,220,78,0,78,220,79,0,79,220,80,0,80,220,81,0,81,220,82,0,82,220,83,0,83,220,84,0,84,220,85,0,85,220,86,0,86,220,87,0,87,220,88,0,88,220,89,0,89,220,90,0,90,220,91,0,91,220,92,0,92,220,93,0,93,220,94,0,94,220,95,0,95,220,96,0,96,220,97,0,97,220,98,0,98,219,99,0,99,218,100,0,100,217,101,0,101,216,102,0,102,215,103,0,103,214,104,0,104,213,105,0,105,212,106,0,106,211,107,0,107,210,108,0,108,209,109,0,109,208,110,0,110,207,111,0,111,206,112,0,112,205,113,0,113,204,114,0,114,203,115,0,115,202,116,0,116,201,117,0,117,200,118,0,118,199,119,0,119,198,120,0,120,197,121,0,121,196,122,0,122,195,123,0,123,194,124,0,124,193,125,0,125,192,126,0,126,191,127,0,127,190,128,0,128,189,129,0,129,188,130,0,130,187,131,0,131,186,132,0,132,185,133,0,133,184,134,0,134,183,135,0,135,182,136,0,136,181,137,0,137,180,138,0,138,179,139,0,139,178,140,0,140,177,141,0,141,176,142,0,142,175,143,0,143,174,144,0,144,173,145,0,145,172,146,0,146,171,147,0,147,170,148,0,148,169,149,0,149,168,150,0,150,167,151,0,151,166,152,0,152,165,153,0,153,164,154,0,154,163,155,0,155,162,156,0,156,161,157,0,157,160,158,0,158,159,159,0,159,158,160,0,160,157,161,0,161,156,162,0,162,155,163,0,163,154,164,0,164,153,165,0,165,152,166,0,166,151,167,0,167,150,168,0,168,149,169,0,169,148,170,0,170,147,171,0,171,146,172,0,172,146,173,0,173,146,174,0,174,146,175,0,175,146,176,0,176,114,177,0,177,113,178,0,178,112,179,0,179,111,180,0,180,110,181,0,181,109,182,0,182,108,183,0,183,107,184,0,184,106,185,0,185,105,186,0,186,104,187,0,187,103,188,0,188,102,189,0,189,101,190,0,190,100,191,0,191,99,192,0,192,98,193,0,193,97,194,0,194,96,195,0,195,95,196,0,196,94,197,0,197,93,198,0,198,92,199,0,199]]}';
// let piecesJSONObject = '{"pieces":[[0,137,0,137,4,138,0,138,7,139,0,139,11,140,0,140,14,141,0,141,18,142,0,142,21,143,0,143,24,144,0,144,28,145,0,145,32,146,0,146,36,147,0,147,38,148,0,148,43,149,0,149,46,150,0,150,49,151,0,151,53,152,0,152,56,153,0,153,60,154,0,154,63,155,0,155,67,156,0,156,71,157,0,157,74,158,0,158,78,159,0,159,82,160,0,160,85,161,0,161,90,162,0,162,92,163,0,163,96,164,0,164,100,165,0,165,104,166,0,166,107,167,0,167,112,168,0,168,115,169,0,169,118,170,0,170,122,171,0,171,126,172,0,172,130,173,0,173,132,174,0,174,136,175,0,175,138,176,0,176,137,177,0,177,137,178,0,178,138,179,0,179,138,180,0,180,137,181,0,181,138,182,0,182,138,183,0,183,138,184,0,184,138,185,0,185,138,186,0,186,138,187,0,187,138,188,0,188,138,189,0,189,138,190,0,190,138,191,0,191,139,192,0,192,138,193,0,193,138,194,0,194,138,195,0,195,138,196,0,196,139,197,0,197,139,198,0,198,139,199,0,199,139,200,0,200,139,201,0,201,139,202,0,202,139,203,0,203,139,204,0,204,139,205,0,205,139,206,0,206,139,207,0,207,139,208,0,208,139,209,0,209,139,210,0,210,139,211,0,211,140,212,0,212,140,213,0,213,140,214,0,214,140,215,0,215,140,216,0,216,140,217,0,217,140,218,0,218,140,219,0,219,140,220,0,220,140,221,0,221,140,222,0,222,140,223,0,223,140,224,0,224,140,225,0,225,140,226,0,226,140,227,0,227,141,228,0,228,141,229,0,229,140,230,0,230,141,231,0,231,141,232,0,232,141,233,0,233,141,234,0,234,141,235,0,235,139,236,0,236,137,237,0,237,134,238,0,238,132,239,0,239,130,240,0,240,127,241,0,241,126,242,0,242,122,243,0,243,121,244,0,244,118,245,0,245,115,246,0,246,114,247,0,247,111,248,0,248,109,249,0,249,106,250,0,250,104,251,0,251,101,252,0,252,99,253,0,253,97,254,0,254,95,255,0,255,92,256,0,256,90,257,0,257,87,258,0,258,86,259,0,259,83,260,0,260,80,261,0,261,79,262,0,262,77,263,0,263,74,264,0,264,71,265,0,265,69,266,0,266,67,267,0,267,65,268,0,268,62,269,0,269,60,270,0,270,57,271,0,271,56,272,0,272,53,273,0,273,51,274,0,274,49,275,0,275,46,276,0,276,44,277,0,277,42,278,0,278,39,279,0,279,37,280,0,280,35,281,0,281,32,282,0,282,31,283,0,283,28,284,0,284,25,285,0,285,24,286,0,286,21,287,0,287,18,288,0,288,17,289,0,289,13,290,0,290,12,291,0,291,10,292,0,292,7,293,0,293,5,294,0,294,3,295,0,295],[499,53,499,53,499,54,497,54,499,55,495,55,499,56,493,56,499,57,491,57,499,58,491,58,499,59,489,59,499,60,487,60,499,61,485,61,499,62,483,62,499,63,481,63,499,64,479,64,499,65,480,65,499,66,478,66,499,67,476,67,499,68,474,68,499,69,472,69,499,70,470,70,499,71,469,71,499,72,467,72,499,73,465,73,499,74,465,74,499,75,463,75,499,76,462,76,499,77,460,77,499,78,458,78,499,79,456,79,499,80,455,80,499,81,453,81,499,82,451,82,499,83,450,83,499,84,448,84,499,85,446,85,499,86,445,86,499,87,443,87,499,88,442,88,499,89,440,89,499,90,438,90,499,91,437,91,499,92,435,92,499,93,434,93,499,94,432,94,499,95,429,95,499,96,428,96,499,97,427,97,499,98,425,98,499,99,424,99,499,100,423,100,499,101,420,101,499,102,419,102,499,103,417,103,499,104,416,104,499,105,413,105,499,106,412,106,499,107,411,107,499,108,409,108,499,109,408,109,499,110,405,110,499,111,404,111,499,112,402,112,499,113,401,113,499,114,399,114,499,115,398,115,499,116,396,116,499,117,394,117,499,118,392,118,499,119,391,119,499,120,390,120,499,121,388,121,499,122,386,122,499,123,385,123,499,124,383,124,499,125,382,125,499,126,379,126,499,127,378,127,499,128,376,128,499,129,374,129,499,130,373,130,499,131,372,131,499,132,370,132,499,133,368,133,499,134,367,134,499,135,365,135,499,136,363,136,499,137,362,137,499,138,360,138,499,139,358,139,499,140,357,140,499,141,355,141,499,142,354,142,499,143,352,143,499,144,350,144,499,145,348,145,499,146,347,146,499,147,345,147,499,148,344,148,499,149,342,149,499,150,340,150,499,151,339,151,499,152,337,152,499,153,336,153,499,154,334,154,499,155,333,155,499,156,330,156,499,157,329,157,499,158,327,158,499,159,325,159,499,160,324,160,499,161,322,161,499,162,320,162,499,163,319,163,499,164,318,164,499,165,315,165,499,166,314,166,499,167,312,167,499,168,311,168,499,169,312,169,499,170,312,170,499,171,311,171,499,172,312,172,499,173,312,173,499,174,312,174,499,175,312,175,499,176,312,176,499,177,312,177,499,178,313,178,499,179,313,179,499,180,313,180,499,181,313,181,499,182,313,182,499,183,313,183,499,184,313,184,499,185,313,185,499,186,313,186,499,187,314,187,499,188,314,188,499,189,314,189,499,190,314,190,499,191,314,191,499,192,314,192,499,193,315,193,499,194,315,194,499,195,315,195,499,196,315,196,499,197,315,197,499,198,315,198,499,199,315,199,499,200,315,200,499,201,316,201,499,202,316,202,499,203,316,203,499,204,316,204,499,205,316,205,499,206,316,206,499,207,316,207,499,208,317,208,499,209,317,209,499,210,317,210,499,211,317,211,499,212,317,212,499,213,317,213,499,214,317,214,499,215,317,215,499,216,318,216,499,217,318,217,499,218,318,218,499,219,318,219,499,220,318,220,499,221,318,221,499,222,318,222,499,223,319,223,499,224,318,224,499,225,319,225,499,226,319,226,499,227,319,227,499,228,319,228,499,229,319,229,499,230,319,230,499,231,319,231,499,232,320,232,499,233,320,233,499,234,320,234,499,235,320,235,499,236,320,236,499,237,320,237,499,238,320,238,499,239,321,239,499,240,320,240,499,241,321,241,499,242,321,242,499,243,321,243,499,244,321,244,499,245,321,245,499,246,321,246,499,247,321,247,499,248,322,248,499,249,322,249,499,250,322,250,499,251,322,251,499,252,322,252,499,253,322,253,499,254,322,254,499,255,323,255,499,256,322,256,499,257,323,257,499,258,323,258,499,259,323,259,499,260,323,260,499,261,323,261,499,262,327,262,499,263,338,263,499,264,351,264,499,265,362,265,499,266,370,266,499,267,382,267,499,268,391,268,499,269,402,269,499,270,413,270,499,271,423,271,499,272,433,272,499,273,441,273,499,274,452,274,499,275,463,275,499,276,472,276,499,277,482,277],[0,332,0,332,2,333,0,333,6,334,0,334,8,335,0,335,10,336,0,336,12,337,0,337,16,338,0,338,17,339,0,339,21,340,0,340,22,341,0,341,24,342,0,342,27,343,0,343,29,344,0,344,32,345,0,345,35,346,0,346,36,347,0,347,39,348,0,348,41,349,0,349,44,350,0,350,46,351,0,351,49,352,0,352,51,353,0,353,53,354,0,354,56,355,0,355,58,356,0,356,61,357,0,357,63,358,0,358,65,359,0,359,68,360,0,360,71,361,0,361,73,362,0,362,75,363,0,363,78,364,0,364,80,365,0,365,82,366,0,366,85,367,0,367,87,368,0,368,90,369,0,369,92,370,0,370,95,371,0,371,97,372,0,372,99,373,0,373,102,374,0,374,104,375,0,375,106,376,0,376,109,377,0,377,112,378,0,378,114,379,0,379,116,380,0,380,119,381,0,381,122,382,0,382,123,383,0,383,127,384,0,384,128,385,0,385,132,386,0,386,134,387,0,387,135,388,0,388,139,389,0,389,141,390,0,390,143,391,0,391,145,392,0,392,149,393,0,393,151,394,0,394,151,395,0,395,152,396,0,396,152,397,0,397,152,398,0,398,152,399,0,399,153,400,0,400,154,401,0,401,154,402,0,402,154,403,0,403,154,404,0,404,155,405,0,405,155,406,0,406,155,407,0,407,156,408,0,408,156,409,0,409,156,410,0,410,157,411,0,411,157,412,0,412,158,413,0,413,158,414,0,414,158,415,0,415,159,416,0,416,159,417,0,417,159,418,0,418,160,419,0,419,160,420,0,420,160,421,0,421,160,422,0,422,161,423,0,423,161,424,0,424,162,425,0,425,162,426,0,426,162,427,0,427,162,428,0,428,163,429,0,429,163,430,0,430,164,431,0,431,164,432,0,432,164,433,0,433,165,434,0,434,165,435,0,435,165,436,0,436,165,437,0,437,166,438,0,438,166,439,0,439,167,440,0,440,167,441,0,441,167,442,0,442,168,443,0,443,168,444,0,444,168,445,0,445,169,446,0,446,169,447,0,447,170,448,0,448,170,449,0,449,170,450,0,450,171,451,0,451,171,452,0,452,171,453,0,453,172,454,0,454,172,455,0,455,172,456,0,456,173,457,0,457,173,458,0,458,173,459,0,459,173,460,0,460,174,461,0,461,174,462,0,462,174,463,0,463,175,464,0,464,175,465,0,465,175,466,0,466,176,467,0,467,176,468,0,468,177,469,0,469,177,470,0,470,177,471,0,471,178,472,0,472,178,473,0,473,178,474,0,474,178,475,0,475,179,476,0,476,180,477,0,477,180,478,0,478,180,479,0,479,180,480,0,480,181,481,0,481,181,482,0,482,181,483,0,483,181,484,0,484,182,485,0,485,182,486,0,486,183,487,0,487,183,488,0,488,183,489,0,489,184,490,0,490,184,491,0,491,185,492,0,492,185,493,0,493,185,494,0,494,185,495,0,495,186,496,0,496,186,497,0,497,187,498,0,498],[155,0,288,0,288,1,155,1,288,2,155,2,287,3,155,3,287,4,155,4,287,5,155,5,288,6,155,6,288,7,155,7,288,8,155,8,288,9,155,9,287,10,155,10,287,11,156,11,288,12,156,12,288,13,155,13,288,14,156,14,288,15,156,15,287,16,156,16,288,17,156,17,288,18,156,18,288,19,156,19,288,20,156,20,288,21,156,21,288,22,156,22,288,23,156,23,288,24,157,24,288,25,156,25,288,26,156,26,288,27,157,27,288,28,156,28,288,29,157,29,288,30,157,30,288,31,157,31,289,32,157,32,288,33,157,33,288,34,157,34,288,35,157,35,289,36,157,36,288,37,157,37,288,38,157,38,289,39,157,39,288,40,157,40,288,41,157,41,289,42,158,42,288,43,157,43,288,44,158,44,289,45,157,45,288,46,158,46,289,47,158,47,289,48,158,48,288,49,158,49,289,50,158,50,289,51,158,51,289,52,158,52,289,53,158,53,289,54,158,54,289,55,158,55,289,56,158,56,289,57,159,57,289,58,158,58,289,59,159,59,289,60,159,60,289,61,159,61,289,62,159,62,289,63,159,63,289,64,159,64,289,65,159,65,289,66,159,66,289,67,159,67,289,68,159,68,289,69,159,69,289,70,159,70,289,71,159,71,290,72,160,72,289,73,159,73,289,74,159,74,289,75,160,75,290,76,160,76,290,77,160,77,289,78,160,78,289,79,160,79,289,80,160,80,290,81,160,81,290,82,160,82,290,83,160,83,290,84,160,84,290,85,160,85,290,86,160,86,290,87,160,87,290,88,160,88,290,89,160,89,290,90,161,90,290,91,161,91,290,92,161,92,290,93,161,93,290,94,161,94,290,95,161,95,290,96,161,96,290,97,161,97,290,98,161,98,290,99,161,99,290,100,161,100,290,101,161,101,290,102,161,102,290,103,161,103,291,104,162,104,290,105,162,105,290,106,162,106,291,107,161,107,290,108,161,108,291,109,162,109,290,110,162,110,290,111,162,111,291,112,162,112,290,113,162,113,291,114,162,114,290,115,162,115,291,116,162,116,291,117,162,117,291,118,163,118,291,119,162,119,291,120,162,120,291,121,163,121,291,122,163,122,291,123,162,123,291,124,163,124,291,125,163,125,291,126,163,126,291,127,163,127,291,128,163,128,291,129,163,129,291,130,163,130,291,131,163,131,291,132,163,132,291,133,163,133,292,134,163,134,291,135,163,135,291,136,164,136,292,137,163,137,292,138,164,138,291,139,163,139,291,140,171,140,292,141,185,141,292,142,198,142,291,143,209,143,292,144,220,144,292,145,233,145,292,146,244,146,291,147,253,147,292,148,266,148,292,149,275,149],[322,262,330,262,341,263,321,263,350,264,321,264,361,265,319,265,373,266,318,266,381,267,317,267,390,268,317,268,401,269,315,269,412,270,314,270,424,271,313,271,434,272,313,272,444,273,312,273,453,274,312,274,464,275,313,275,473,276,312,276,484,277,312,277,496,278,312,278,499,279,312,279,499,280,312,280,499,281,312,281,499,282,312,282,499,283,312,283,499,284,312,284,499,285,312,285,499,286,312,286,499,287,312,287,499,288,312,288,499,289,312,289,499,290,312,290,499,291,312,291,499,292,311,292,499,293,312,293,499,294,312,294,499,295,311,295,499,296,312,296,499,297,311,297,499,298,311,298,499,299,311,299,499,300,311,300,499,301,311,301,499,302,311,302,499,303,311,303,499,304,311,304,499,305,311,305,499,306,311,306,499,307,311,307,499,308,311,308,499,309,311,309,499,310,311,310,499,311,311,311,499,312,311,312,499,313,310,313,499,314,311,314,499,315,310,315,499,316,310,316,499,317,311,317,499,318,310,318,499,319,311,319,499,320,310,320,499,321,310,321,499,322,310,322,499,323,310,323,499,324,310,324,499,325,310,325,499,326,310,326,499,327,310,327,499,328,310,328,499,329,310,329,499,330,310,330,499,331,310,331,499,332,310,332,499,333,309,333,499,334,310,334,499,335,310,335,499,336,309,336,499,337,309,337,499,338,309,338,499,339,309,339,499,340,310,340,499,341,309,341,499,342,309,342,499,343,309,343,499,344,309,344,499,345,309,345,499,346,309,346,499,347,309,347,499,348,309,348,499,349,309,349,499,350,309,350,499,351,309,351,499,352,309,352,499,353,309,353,499,354,309,354,499,355,309,355,499,356,309,356,499,357,308,357,499,358,308,358,499,359,308,359,499,360,308,360,499,361,308,361,499,362,308,362,499,363,308,363,499,364,308,364,499,365,308,365,499,366,308,366,499,367,308,367,499,368,308,368,499,369,308,369,499,370,308,370,499,371,308,371,499,372,308,372,499,373,308,373,499,374,307,374,499,375,308,375,499,376,308,376,499,377,307,377,499,378,307,378,499,379,308,379,499,380,307,380,499,381,307,381,499,382,307,382,499,383,307,383,499,384,307,384,499,385,307,385,499,386,307,386,499,387,307,387,499,388,307,388,499,389,307,389,499,390,307,390,499,391,307,391,499,392,307,392,499,393,307,393,499,394,307,394,499,395,307,395,499,396,306,396,499,397,307,397,499,398,306,398,499,399,306,399,499,400,306,400,499,401,306,401,499,402,307,402,499,403,306,403,499,404,306,404,499,405,306,405,499,406,306,406,499,407,306,407,499,408,306,408,499,409,306,409,499,410,306,410,499,411,306,411,499,412,306,412,499,413,306,413,499,414,306,414,499,415,306,415,499,416,305,416,499,417,305,417,499,418,306,418,499,419,305,419,499,420,305,420,499,421,306,421,499,422,305,422,499,423,305,423,499,424,305,424,499,425,305,425,499,426,305,426,499,427,305,427,499,428,305,428,499,429,305,429,499,430,304,430,499,431,305,431,499,432,305,432,499,433,305,433,499,434,304,434,499,435,305,435,499,436,305,436,499,437,304,437,499,438,304,438,499,439,304,439,499,440,305,440,499,441,304,441,499,442,304,442,499,443,304,443,499,444,304,444,499,445,304,445,499,446,304,446,499,447,304,447,499,448,304,448,499,449,304,449,499,450,304,450,499,451,304,451,499,452,303,452,499,453,303,453,499,454,304,454,499,455,304,455,499,456,304,456,499,457,303,457,499,458,303,458,499,459,303,459,499,460,303,460,499,461,304,461,499,462,303,462,499,463,303,463,499,464,303,464,499,465,303,465,499,466,303,466,499,467,303,467,499,468,303,468,499,469,303,469,499,470,303,470,499,471,302,471,499,472,303,472,499,473,303,473,499,474,303,474,499,475,303,475,499,476,303,476,499,477,302,477,499,478,302,478,499,479,302,479,499,480,302,480,499,481,303,481,499,482,303,482,499,483,302,483,499,484,302,484,499,485,302,485,499,486,301,486,499,487,302,487,499,488,302,488,499,489,302,489,499,490,302,490,499,491,302,491,499,492,302,492,499,493,302,493,499,494,301,494,499,495,301,495,499,496,301,496,499,497,301,497,499,498,302,498],[164,139,164,139,173,140,163,140,189,141,162,141,197,142,161,142,210,143,161,143,223,144,160,144,232,145,159,145,243,146,158,146,255,147,158,147,267,148,157,148,276,149,156,149,290,150,156,150,293,151,155,151,294,152,154,152,295,153,153,153,296,154,153,154,297,155,152,155,298,156,151,156,299,157,151,157,300,158,150,158,301,159,150,159,303,160,149,160,303,161,148,161,305,162,147,162,306,163,147,163,307,164,146,164,308,165,145,165,309,166,144,166,310,167,144,167,310,168,143,168,311,169,142,169,311,170,142,170,310,171,141,171,311,172,140,172,311,173,140,173,311,174,139,174,311,175,138,175,311,176,139,176,311,177,138,177,312,178,138,178,312,179,139,179,312,180,139,180,312,181,138,181,312,182,139,182,312,183,139,183,312,184,139,184,312,185,139,185,312,186,139,186,313,187,139,187,313,188,139,188,313,189,139,189,313,190,139,190,313,191,139,191,313,192,140,192,314,193,139,193,314,194,139,194,314,195,139,195,314,196,139,196,314,197,140,197,314,198,140,198,';
// piecesJSONObject += '314,199,140,199,314,200,140,200,315,201,140,201,315,202,140,202,315,203,140,203,315,204,140,204,315,205,140,205,315,206,140,206,315,207,140,207,316,208,140,208,316,209,140,209,316,210,140,210,316,211,140,211,316,212,141,212,316,213,141,213,316,214,141,214,316,215,141,215,317,216,141,216,317,217,141,217,317,218,141,218,317,219,141,219,317,220,141,220,317,221,141,221,317,222,141,222,318,223,141,223,317,224,141,224,318,225,141,225,318,226,141,226,318,227,141,227,318,228,142,228,318,229,142,229,318,230,141,230,318,231,142,231,319,232,142,232,319,233,142,233,319,234,142,234,319,235,142,235,319,236,142,236,319,237,143,237,319,238,144,238,320,239,145,239,319,240,146,240,320,241,147,241,320,242,147,242,320,243,148,243,320,244,149,244,320,245,150,245,320,246,151,246,320,247,152,247,321,248,153,248,321,249,153,249,321,250,154,250,321,251,155,251,321,252,156,252,321,253,157,253,321,254,158,254,322,255,158,255,321,256,159,256,322,257,160,257,322,258,161,258,322,259,161,259,322,260,162,260,322,261,163,261,321,262,164,262,320,263,165,263,320,264,166,264,318,265,167,265,317,266,168,266,316,267,169,267,316,268,169,268,314,269,170,269,313,270,171,270,312,271,172,271,311,272,173,272,292,273,174,273,268,274,174,274,238,275,175,275,216,276,176,276],[289,0,499,0,499,1,289,1,499,2,289,2,499,3,288,3,499,4,288,4,499,5,288,5,499,6,289,6,499,7,289,7,499,8,289,8,499,9,289,9,499,10,288,10,499,11,288,11,499,12,289,12,499,13,289,13,499,14,289,14,499,15,289,15,499,16,288,16,499,17,289,17,499,18,289,18,499,19,289,19,499,20,289,20,499,21,289,21,499,22,289,22,499,23,289,23,499,24,289,24,499,25,289,25,499,26,289,26,499,27,289,27,499,28,289,28,499,29,289,29,499,30,289,30,499,31,289,31,499,32,290,32,499,33,289,33,499,34,289,34,499,35,289,35,499,36,290,36,499,37,289,37,499,38,289,38,499,39,290,39,499,40,289,40,499,41,289,41,499,42,290,42,499,43,289,43,499,44,289,44,499,45,290,45,499,46,289,46,499,47,290,47,499,48,290,48,499,49,289,49,499,50,290,50,499,51,290,51,499,52,290,52,498,53,290,53,496,54,290,54,494,55,290,55,492,56,290,56,490,57,290,57,490,58,290,58,488,59,290,59,486,60,290,60,484,61,290,61,482,62,290,62,480,63,290,63,478,64,290,64,479,65,290,65,477,66,290,66,475,67,290,67,473,68,290,68,471,69,290,69,469,70,290,70,468,71,290,71,466,72,291,72,464,73,290,73,464,74,290,74,462,75,290,75,461,76,291,76,459,77,291,77,457,78,290,78,455,79,290,79,454,80,290,80,452,81,291,81,450,82,291,82,449,83,291,83,447,84,291,84,445,85,291,85,444,86,291,86,442,87,291,87,441,88,291,88,439,89,291,89,437,90,291,90,436,91,291,91,434,92,291,92,433,93,291,93,431,94,291,94,428,95,291,95,427,96,291,96,426,97,291,97,424,98,291,98,423,99,291,99,422,100,291,100,419,101,291,101,418,102,291,102,416,103,291,103,415,104,292,104,412,105,291,105,411,106,291,106,410,107,292,107,408,108,291,108,407,109,292,109,404,110,291,110,403,111,291,111,401,112,292,112,400,113,291,113,398,114,292,114,397,115,291,115,395,116,292,116,393,117,292,117,391,118,292,118,390,119,292,119,389,120,292,120,387,121,292,121,385,122,292,122,384,123,292,123,382,124,292,124,381,125,292,125,378,126,292,126,377,127,292,127,375,128,292,128,373,129,292,129,372,130,292,130,371,131,292,131,369,132,292,132,367,133,292,133,366,134,293,134,364,135,292,135,362,136,292,136,361,137,293,137,359,138,293,138,357,139,292,139,356,140,292,140,354,141,293,141,353,142,293,142,351,143,292,143,349,144,293,144,347,145,293,145,346,146,293,146,344,147,292,147,343,148,293,148,341,149,293,149,339,150,293,150,338,151,294,151,336,152,295,152,335,153,296,153,333,154,297,154,332,155,298,155,329,156,299,156,328,157,300,157,326,158,301,158,324,159,302,159,323,160,304,160,321,161,304,161,319,162,306,162,318,163,307,163,317,164,308,164,314,165,309,165,313,166,310,166],[309,272,312,272,311,273,288,273,311,274,259,274,312,275,239,275,311,276,214,276,311,277,191,277,311,278,177,278,311,279,177,279,311,280,177,280,311,281,176,281,311,282,176,282,311,283,176,283,311,284,176,284,311,285,176,285,311,286,175,286,311,287,175,287,311,288,175,288,311,289,175,289,311,290,175,290,311,291,174,291,310,292,174,292,311,293,174,293,311,294,174,294,310,295,173,295,311,296,173,296,310,297,173,297,310,298,173,298,310,299,173,299,310,300,172,300,310,301,172,301,310,302,172,302,310,303,172,303,310,304,171,304,310,305,171,305,310,306,171,306,310,307,171,307,310,308,170,308,310,309,171,309,310,310,170,310,310,311,170,311,310,312,170,312,309,313,170,313,310,314,169,314,309,315,169,315,309,316,169,316,310,317,169,317,309,318,168,318,310,319,168,319,309,320,168,320,309,321,168,321,309,322,168,322,309,323,167,323,309,324,167,324,309,325,167,325,309,326,166,326,309,327,166,327,309,328,166,328,309,329,166,329,309,330,166,330,309,331,166,331,309,332,165,332,308,333,165,333,309,334,165,334,309,335,165,335,308,336,164,336,308,337,164,337,308,338,164,338,308,339,164,339,309,340,163,340,308,341,163,341,308,342,163,342,308,343,163,343,308,344,163,344,308,345,162,345,308,346,162,346,308,347,162,347,308,348,162,348,308,349,162,349,308,350,161,350,308,351,161,351,308,352,161,352,308,353,161,353,308,354,160,354,308,355,160,355,308,356,160,356,307,357,160,357,307,358,160,358,307,359,160,359,307,360,159,360,307,361,159,361,307,362,159,362,307,363,158,363,307,364,159,364,307,365,158,365,307,366,158,366,307,367,158,367,307,368,157,368,307,369,157,369,307,370,157,370,307,371,157,371,307,372,157,372,307,373,156,373,306,374,156,374,307,375,156,375,307,376,156,376,306,377,155,377,306,378,155,378,307,379,155,379,306,380,155,380,306,381,154,381,306,382,155,382,306,383,154,383,306,384,154,384,306,385,154,385,306,386,153,386,306,387,153,387,306,388,153,388,306,389,153,389,306,390,153,390,306,391,152,391,306,392,152,392,306,393,152,393,306,394,152,394,306,395,152,395,305,396,153,396,306,397,153,397,305,398,153,398,305,399,153,399,305,400,154,400,305,401,155,401,306,402,155,402,305,403,155,403,305,404,155,404,305,405,156,405,305,406,156,406,305,407,156,407,305,408,157,408,305,409,157,409,305,410,157,410,305,411,158,411,305,412,158,412,305,413,159,413,305,414,159,414,305,415,159,415,304,416,160,416,304,417,160,417,305,418,160,418,304,419,161,419,304,420,161,420,305,421,161,421,304,422,161,422,304,423,162,423,304,424,162,424,304,425,163,425,304,426,163,426,304,427,163,427,304,428,163,428,304,429,164,429,303,430,164,430,304,431,165,431,304,432,165,432,304,433,165,433,303,434,166,434,304,435,166,435,304,436,166,436,303,437,166,437,303,438,167,438,303,439,167,439,304,440,168,440,303,441,168,441,303,442,168,442,303,443,169,443,303,444,169,444,303,445,169,445,303,446,170,446,303,447,170,447,303,448,171,448,303,449,171,449,303,450,171,450,303,451,172,451,302,452,172,452,302,453,172,453,303,454,173,454,303,455,173,455,303,456,173,456,302,457,174,457,302,458,174,458,302,459,174,459,302,460,174,460,303,461,175,461,302,462,175,462,302,463,175,463,302,464,176,464,302,465,176,465,302,466,176,466,302,467,177,467,302,468,177,468,302,469,178,469,302,470,178,470,301,471,178,471,302,472,179,472,302,473,179,473,302,474,179,474,302,475,179,475,302,476,180,476,301,477,181,477,301,478,181,478,301,479,181,479,301,480,181,480,302,481,182,481,302,482,182,482,301,483,182,483,301,484,182,484,301,485,183,485,300,486,183,486,301,487,184,487,301,488,184,488,301,489,184,489,301,490,185,490,301,491,185,491,301,492,186,492,301,493,186,493,300,494,186,494,300,495,186,495,300,496,187,496,300,497,187,497,301,498,188,498],[140,236,141,236,142,237,138,237,143,238,135,238,144,239,133,239,145,240,131,240,146,241,128,241,146,242,127,242,147,243,123,243,148,244,122,244,149,245,119,245,150,246,116,246,151,247,115,247,152,248,112,248,152,249,110,249,153,250,107,250,154,251,105,251,155,252,102,252,156,253,100,253,157,254,98,254,157,255,96,255,158,256,93,256,159,257,91,257,160,258,88,258,160,259,87,259,161,260,84,260,162,261,81,261,163,262,80,262,164,263,78,263,165,264,75,264,166,265,72,265,167,266,70,266,168,267,68,267,168,268,66,268,169,269,63,269,170,270,61,270,171,271,58,271,172,272,57,272,173,273,54,273,173,274,52,274,174,275,50,275,175,276,47,276,176,277,45,277,176,278,43,278,176,279,40,279,176,280,38,280,175,281,36,281,175,282,33,282,175,283,30,283,175,284,29,284,175,285,26,285,174,286,25,286,174,287,22,287,174,288,19,288,174,289,18,289,174,290,14,290,173,291,13,291,173,292,11,292,173,293,8,293,173,294,6,294,172,295,4,295,172,296,1,296,172,297,0,297,172,298,0,298,172,299,0,299,171,300,0,300,171,301,0,301,171,302,0,302,171,303,0,303,170,304,0,304,170,305,0,305,170,306,0,306,170,307,0,307,169,308,0,308,170,309,0,309,169,310,0,310,169,311,0,311,169,312,0,312,169,313,0,313,168,314,0,314,168,315,0,315,168,316,0,316,168,317,0,317,167,318,0,318,167,319,0,319,167,320,0,320,167,321,0,321,167,322,0,322,166,323,0,323,166,324,0,324,166,325,0,325,165,326,0,326,165,327,0,327,165,328,0,328,165,329,0,329,165,330,0,330,165,331,0,331,164,332,1,332,164,333,3,333,164,334,7,334,164,335,9,335,163,336,11,336,163,337,13,337,163,338,17,338,163,339,18,339,162,340,20,340,162,341,23,341,162,342,25,342,162,343,28,343,162,344,30,344,161,345,33,345,161,346,36,346,161,347,37,347,161,348,40,348,161,349,42,349,160,350,45,350,160,351,47,351,160,352,50,352,160,353,52,353,159,354,54,354,159,355,57,355,159,356,59,356,159,357,62,357,159,358,64,358,159,359,66,359,158,360,69,360,158,361,72,361,158,362,74,362,157,363,76,363,158,364,79,364,157,365,81,365,157,366,83,366,157,367,86,367,156,368,88,368,156,369,91,369,156,370,93,370,156,371,96,371,156,372,98,372,155,373,100,373,155,374,103,374,155,375,105,375,155,376,107,376,154,377,110,377,154,378,113,378,154,379,115,379,154,380,117,380,153,381,120,381,154,382,123,382,153,383,124,383,153,384,128,384,153,385,129,385,152,386,133,386,152,387,135,387,152,388,136,388,152,389,140,389,152,390,142,390,151,391,144,391,151,392,146,392],[0,0,154,0,154,1,0,1,154,2,0,2,154,3,0,3,154,4,0,4,154,5,0,5,154,6,0,6,154,7,0,7,154,8,0,8,154,9,0,9,154,10,0,10,155,11,0,11,155,12,0,12,154,13,0,13,155,14,0,14,155,15,0,15,155,16,0,16,155,17,0,17,155,18,0,18,155,19,0,19,155,20,0,20,155,21,0,21,155,22,0,22,155,23,0,23,156,24,0,24,155,25,0,25,155,26,0,26,156,27,0,27,155,28,0,28,156,29,0,29,156,30,0,30,156,31,0,31,156,32,0,32,156,33,0,33,156,34,0,34,156,35,0,35,156,36,0,36,156,37,0,37,156,38,0,38,156,39,0,39,156,40,0,40,156,41,0,41,157,42,0,42,156,43,0,43,157,44,0,44,156,45,0,45,157,46,0,46,157,47,0,47,157,48,0,48,157,49,0,49,157,50,0,50,157,51,0,51,157,52,0,52,157,53,0,53,157,54,0,54,157,55,0,55,157,56,0,56,158,57,0,57,157,58,0,58,158,59,0,59,158,60,0,60,158,61,0,61,158,62,0,62,158,63,0,63,158,64,0,64,158,65,0,65,158,66,0,66,158,67,0,67,158,68,0,68,158,69,0,69,158,70,0,70,158,71,0,71,159,72,0,72,158,73,0,73,158,74,0,74,159,75,0,75,159,76,0,76,159,77,0,77,159,78,0,78,159,79,0,79,159,80,0,80,159,81,0,81,159,82,0,82,159,83,0,83,159,84,0,84,159,85,0,85,159,86,0,86,159,87,0,87,159,88,0,88,159,89,0,89,160,90,0,90,160,91,0,91,160,92,0,92,160,93,0,93,160,94,0,94,160,95,0,95,160,96,0,96,160,97,0,97,160,98,0,98,160,99,0,99,160,100,0,100,160,101,0,101,160,102,0,102,160,103,0,103,161,104,0,104,161,105,0,105,161,106,0,106,160,107,0,107,160,108,0,108,161,109,0,109,161,110,0,110,161,111,0,111,161,112,0,112,161,113,0,113,161,114,0,114,161,115,0,115,161,116,0,116,161,117,0,117,162,118,0,118,161,119,0,119,161,120,0,120,162,121,0,121,162,122,0,122,161,123,0,123,162,124,0,124,162,125,0,125,162,126,0,126,162,127,0,127,162,128,0,128,162,129,0,129,162,130,0,130,162,131,0,131,162,132,0,132,162,133,0,133,162,134,0,134,162,135,0,135,163,136,0,136,162,137,1,137,163,138,5,138,162,139,6,139,162,140,10,140,161,141,15,141,160,142,19,142,160,143,22,143,159,144,25,144,158,145,29,145,157,146,33,146,157,147,37,147,156,148,39,148,155,149,44,149,155,150,47,150,154,151,50,151,153,152,54,152,152,153,57,153,152,154,61,154,151,155,64,155,150,156,68,156,150,157,72,157,149,158,75,158,149,159,79,159,148,160,83,160,147,161,86,161,146,162,89,162,146,163,93,163,145,164,97,164,144,165,101,165,143,166,103,166,143,167,108,167,142,168,111,168,141,169,116,169,141,170,119,170,140,171,123,171,139,172,127,172,139,173,131,173,138,174,133,174]]}'
let pieces = JSON.parse(piecesJSONObject).pieces;
let correctPositions = [];
let pieceInCorrectPosition = [];
let shadesOfBluePalette = ['DarkBlue', 'DeepSkyBlue', 'MediumBlue', 'DodgerBlue', 'MidnightBlue', 'RoyalBlue', 'DarkSlateBlue', 'CornflowerBlue', 'SkyBlue', 'PowderBlue'];
let canvas, stage, layer;
let width = 1000, height = 500;

window.onload = function(){
	initializeData();
}

function initializeData()
{
	canvas = document.getElementById('solverContainer');

	stage = new Konva.Stage({
		container: 'solverContainer',
		width: width,
		height: height
	});

	let board = new Konva.Rect({
		x: (width/4),
		y: 0,
		width: width/2,
		height: height,
		stroke: 'black',
		fill: 'white',
		strokeWidth: 1
	});

	let outline = new Konva.Rect({
		x: 0,
		y: 0,
		width: width,
		height: height,
		stroke: 'grey',
		fill: '#dcdcdc',
		strokeWidth: 1
	});

	layer = new Konva.Layer();
	stage.add(layer);
	layer.add(outline);
	generatePieces();

	layer.add(board);
	
	layer.draw();
}

function generatePieces()
{
	for(let pieceIndex = 0; pieceIndex < pieces.length; pieceIndex++)
	{
		let selectedPiece = pieces[pieceIndex];
		// console.log('MinX: ' + getMin(selectedPiece, 'x'));
		// console.log('MaxX: ' + getMax(selectedPiece, 'x'));
		// console.log('MinY: ' + getMin(selectedPiece, 'y'));
		// console.log('MaxY: ' + getMax(selectedPiece, 'y'));
		let offsetX = getRandomOffsetX(selectedPiece, 0);
		// console.log(offsetX);
		let offsetY = getRandomOffset(getMin(selectedPiece, 'y'), ( height/2 ));
		let minY = getMin(selectedPiece, 'y');

		correctPositions.push({x: selectedPiece[0], y: selectedPiece[1]});
		pieceInCorrectPosition.push(false);

		for(let i = 0; i < selectedPiece.length; i+=2)
		{
			if( (pieceIndex+1) % 2 == 0)
				selectedPiece[i] += 800;
			selectedPiece[i] -= offsetX;
			// selectedPiece[i+1] += minY - ((pieceIndex % 5) * 100);
		}
		
		let group = new Konva.Group();

		let hitBox = new Konva.Rect({
			x: selectedPiece[0],
			y: selectedPiece[1],
			width: 5,
			height: 5,
			fill: 'black',	
		});



		let piece = new Konva.Line({
			points: selectedPiece,
			stroke: shadesOfBluePalette[pieceIndex % shadesOfBluePalette.length],
			strokeWidth: 2,
			perfectDrawEnabled: false,
			hitBox: hitBox,
		});

		piece.on('mouseover', function (){
			document.body.style.cursor = 'pointer';
			this.scale({x: 1, y: 1});
			group.moveToTop();
			layer.draw();
		});

		piece.on('mouseout', function() {
			document.body.style.cursor = 'default';
			// this.scale({x: 0.5, y: 0.5});
			layer.draw();
		});

		group.on('dragend', function(){
			let hitBox = this.getChildren()[1];
			let hitBoxCoordinates = hitBox.absolutePosition();
			hitBoxCoordinates.x -= 250;

			if(checkPosition(hitBoxCoordinates, correctPositions[pieceIndex]))
			{
				console.log('nailed it!!');
				pieceInCorrectPosition[pieceIndex] = true;
				checkIfPuzzleSolved();
			}
			else
			{
				console.log('you are off bud!');
				console.log('The correct x: ' + correctPositions[pieceIndex].x + " - The correct y: " + correctPositions[pieceIndex].y);
				console.log('The current coordinates: ');
				console.log(hitBoxCoordinates);
				pieceInCorrectPosition[pieceIndex] = false;
			}
		});


		// piece.scale({x: 0.75, y: 0.75});
		group.add(piece);
		group.add(hitBox);
		group.draggable(true);
		layer.add(group);
	}

}

function getMax(pointsArray, coordinate)
{
	let step;
	if(coordinate == 'x')
		step = 0;
	else
		step = 1;

	let max = 0;
	for(let i = 0; i < pointsArray.length; i+=2)
	{
		if(pointsArray[i+step] > max)
			max = pointsArray[i+step];
	}

	return max;
}

function getMin(pointsArray, coordinate)
{
	let step;
	if(coordinate == 'x')
		step = 0;
	else
		step = 1;

	let min = pointsArray[step];
	for(let i = 0; i < pointsArray.length; i+=2)
	{
		if(pointsArray[i+step] < min)
			min = pointsArray[i+step];
	}

	return min;
}

function getRandomOffset(lowerBound, upperBound)
{
	let returnValue = 0;
	// while( returnValue <= lowerBound )
	{
		returnValue = Math.floor((Math.random() * upperBound) + 1);
	}

	return returnValue;
}

function getRandomOffsetX(pixelArray, min)
{
	let minX = getMin(pixelArray, 'x');
	let maxX = getMax(pixelArray, 'x');

	return minX;

}

function checkPosition(coords1, coords2)
{
	let xDifference = coords1.x - coords2.x;
	let yDifference = coords1.y - coords2.y;
	if(xDifference < 0)
		xDifference *= -1;
	if(yDifference < 0)
		yDifference *= -1;

	if(xDifference <= 5 && yDifference <= 5)
		return true;
	else
		return false;
}

function checkIfPuzzleSolved()
{
	for(let pieceIndex = 0; pieceIndex < pieceInCorrectPosition.length; pieceIndex++)
	{
		if(!pieceInCorrectPosition[pieceIndex])
			return false;
	}

	alert('Puzzle Solved!');
}